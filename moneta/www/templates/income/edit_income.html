{% extends "base.html" %}
{% load static %}
{% block content %}
    <link rel="stylesheet" href="{% static 'css/forgot_pass.css' %}" type="text/css">
    <script>
        function getEdit(id){
            $.ajax(
                {
                    type:"POST",
                    data:{income_id: id,
                        csrfmiddlewaretoken: '{{ csrf_token }}'},
                    success:function (response) {
                        console.info(response);
                    },
                    error(error){
                        console.error(error);
                    }
                })
            location.href += "edit/";
        };


        function deleteWindow(){
            document.querySelector('.bg-modal').style.display = 'flex';
        };
        
          function cancelDelete(){
             document.querySelector('.bg-modal').style.display = 'none';
        };

        function deleteIncome(){
       location.href += "delete/";  
        }  
    </script>
    <div class="container-input">
        <h1> Detailed information about {{ income_info.name }}</h1>
        <p><span class="{{ income_info.css }} icon_format"></span></p>
            <p> {{ income_info.name }} {{ income_info.currency }} {{ income_info.amount }}</p>
            <input type="button" class="edit_button" id="edit_income_button" onclick="getEdit('{{ income_info.id  }}');" value="Edit" />
            <input id="delete_income_button" type="button" onclick="deleteWindow()" value="Delete">
    </div>

    <div class="bg-modal">
    <div class="modal-content">
        <img src="{% static 'images/current/notes.svg' %}" alt="">
        <h2>Do you really want to delete this Income?</h2>
        <input type="button" name="delete-income" onclick="deleteIncome()" value="Yes">
        <input type="button" name="cancel-delete" onclick="cancelDelete()" value="No">     
    </div>
</div>

{% endblock content %}
