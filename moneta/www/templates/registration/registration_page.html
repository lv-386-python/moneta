{% extends 'base.html' %}
{% block content %}

<div class="login-card">
    <title>Registration</title>

    {% if user.is_authenticated %}
    <h2><strong>You are already authenticated!</strong></h2><br>
    {% else %}
    <h1><strong>Registration</strong></h1>
    <form method="post">


        <div>{{ form.email }}</div>
        <div>{{ form.select_default_currency }}</div>
        <div>{{ form.password }}<i class="fa fa-fw fa-eye-slash field-icon toggle-password" id="eye"></i></div>
        <div>{{ form.confirm_pass }}<i class="fa fa-fw fa-eye-slash field-icon toggle-password" id="eyes"></i></div>


        {% if messages %}
        <center>
            {% for message in messages %}
            {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}

            <p id="message_success"> {{ message }}</p>

            {% elif message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
            <p id="message_error">{{ message }}</p>
            {% endif %}
            {% endfor %}
        </center>
        {% endif %}
        {% csrf_token %}
        <input class="login login-submit" type="submit" value="Sign up"/>

    </form>
    {% endif %}
</div>


<script>

$(function(){

  $('#eye').click(function(){
  console.log('asa');

        if($(this).hasClass('fa-eye-slash')){

          $(this).removeClass('fa-eye-slash');

          $(this).addClass('fa-eye');

          $('#id_password').attr('type','text');

        }else{

          $(this).removeClass('fa-eye');

          $(this).addClass('fa-eye-slash');

          $('#id_password').attr('type','password');
        }
    });
});

$(function(){

  $('#eyes').click(function(){
  console.log('asa');

        if($(this).hasClass('fa-eye-slash')){

          $(this).removeClass('fa-eye-slash');

          $(this).addClass('fa-eye');

          $('#id_confirm_pass').attr('type','text');

        }else{

          $(this).removeClass('fa-eye');

          $(this).addClass('fa-eye-slash');

          $('#id_confirm_pass').attr('type','password');
        }
    });
});


</script>
{% endblock %}
